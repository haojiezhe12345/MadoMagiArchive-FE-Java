<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="love.madohomu.madomagiarchive_fe_java.MainController"
      stylesheets="@styles/main.css"
      styleClass="root">

    <MenuBar>
        <Menu text="File">
            <MenuItem text="Select all" onAction="#selectAllFiles"/>
            <MenuItem text="Deselect all" onAction="#deselectFiles"/>
            <SeparatorMenuItem/>
            <MenuItem text="Download selected"/>
            <MenuItem text="Upload files..." onAction="#uploadFiles"/>
            <SeparatorMenuItem/>
            <MenuItem onAction="#exit" text="Exit"/>
        </Menu>
        <Menu text="Edit">
            <MenuItem text="Edit details"/>
            <MenuItem text="Delete selected" onAction="#showDeleteConfirmation"/>
        </Menu>
        <Menu text="Account">
            <MenuItem text="Log in"/>
        </Menu>
        <Menu text="Help">
            <MenuItem text="Visit website" onAction="#gotoWebsite"/>
            <MenuItem text="View on GitHub" onAction="#viewGitHub"/>
            <MenuItem text="About" onAction="#showAbout"/>
        </Menu>
    </MenuBar>

    <VBox styleClass="main" VBox.vgrow="ALWAYS">
        <HBox styleClass="actionBar">
            <Button onAction="#reloadFiles" text="Refresh"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <TextField fx:id="mainSearchInput"/>
        </HBox>

        <ScrollPane fx:id="fileItemScrollContainer" VBox.vgrow="ALWAYS" onMouseClicked="#onFileItemScrollContainerClick">

            <FlowPane fx:id="fileItemContainer">
                <!-- Example image, `FileItemComponent` is used instead during execution -->
                <HBox styleClass="fileItem">
                    <ImageView>
                        <Image url="https://haojiezhe12345.top:82/madohomu/archive/api/files/221/thumb"/>
                    </ImageView>
                </HBox>
            </FlowPane>

            <contextMenu>
                <ContextMenu fx:id="fileItemContentMenu">
                    <items>
                        <MenuItem text="View"/>
                        <MenuItem text="Edit details"/>
                        <MenuItem text="Download"/>
                        <MenuItem text="Delete" onAction="#showDeleteConfirmation"/>
                    </items>
                </ContextMenu>

                <ContextMenu fx:id="fileItemBackgroundContentMenu">
                    <items>
                        <MenuItem text="Select all" onAction="#selectAllFiles"/>
                        <MenuItem text="Refresh" onAction="#reloadFiles"/>
                        <MenuItem text="Upload files" onAction="#uploadFiles"/>
                    </items>
                </ContextMenu>
            </contextMenu>

        </ScrollPane>

    </VBox>
</VBox>
